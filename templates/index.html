{% extends 'base.html' %}
{% block title %}
    <h2>Home</h2>
{% endblock %}
{% block content %}
    <section class="form-predict">
        <form action="/predict" method="post">
            <label>Travel class:</label>
            <input type="number" name="pclass" min="1" max="3" required><br>

            <label>sex:</label>
            <select name="sex" required>
                <option value="male">male</option>
                <option value="female">female</option>
            </select><br>

            <label>age:</label>
            <input type="number" step="0.1" name="age"><br>

            <label>siblings/spouses aboard:</label>
            <input type="number" name="sibsp"><br>

            <label>parents/children aboard:</label>
            <input type="number" name="parch"><br>

            <label>Ticket price:</label>
            <input type="number" step="0.1" name="fare"><br>

            <label>Travel class::</label>
            <select name="class">
                <option value="First">First</option>
                <option value="Second">Second</option>
                <option value="Third">Third</option>
            </select><br>

            <label>who:</label>
            <select name="who">
                <option value="man">man</option>
                <option value="woman">woman</option>
                <option value="child">child</option>
            </select><br>

            <label>adult_male:</label>
            <select name="adult_male">
                <option value="true">True</option>
                <option value="false">False</option>
            </select><br>

            <label>alone:</label>
            <select name="alone">
                <option value="true">True</option>
                <option value="false">False</option>
            </select><br><br>

            <button type="submit">Predict</button>
        </form>
    </section>
    <pre id="output"></pre>
    <script>
            async function train() 
            {
                const res = await fetch('/train');
                const data = await res.json();
                document.getElementById('output').textContent = JSON.stringify(data, null, 2);
            }

            async function evaluate() 
            {
                const res = await fetch('/evaluate');
                const data = await res.json();
                document.getElementById('output').textContent = JSON.stringify(data, null, 2);
            }

            async function checkStatus() 
            {
                const res = await fetch('/status');
                const data = await res.json();
                document.getElementById('output').textContent = JSON.stringify(data, null, 2);
            }
        </script>
{% endblock %}
